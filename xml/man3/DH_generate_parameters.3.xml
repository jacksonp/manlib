<!-- Converted by db4-upgrade version 1.1 -->
<refentry xmlns="http://docbook.org/ns/docbook" version="5.0">
  <refmeta>
    <refentrytitle>DH_generate_parameters.pod</refentrytitle>
  </refmeta>
  <refnamediv>
    <refname/>
    <refpurpose/>
  </refnamediv>
  <para>
    DH_generate_parameters_ex, DH_generate_parameters, DH_check - generate
    and check Diffie-Hellman parameters
  </para>
  <refsynopsisdiv>
<synopsis format="linespecific">#include &lt;openssl/dh.h&gt;</synopsis>
<synopsis format="linespecific">int DH_generate_parameters_ex(DH *dh, int prime_len,int generator, BN_GENCB *cb);</synopsis>
<synopsis format="linespecific">int DH_check(DH *dh, int *codes);</synopsis>
<synopsis format="linespecific">Deprecated:</synopsis>
<synopsis format="linespecific">DH *DH_generate_parameters(int prime_len, int generator,
    void (*callback)(int, int, void *), void *cb_arg);</synopsis>
  </refsynopsisdiv>
  <refsection xml:id="sources.openssl.doc.crypto.DH_generate_parameters.pod:DESCRIPTION"><title>DESCRIPTION</title>
    <para>
      DH_generate_parameters_ex() generates Diffie-Hellman parameters that
      can be shared among a group of users, and stores them in the provided
      <emphasis role="bold">DH</emphasis> structure. The pseudo-random
      number generator must be seeded prior to calling
      DH_generate_parameters().
    </para>
    <para>
      <emphasis role="bold">prime_len</emphasis> is the length in bits of
      the safe prime to be generated. <emphasis role="bold">generator</emphasis> is a small number &gt; 1, typically
      2 or 5.
    </para>
    <para>
      A callback function may be used to provide feedback about the
      progress of the key generation. If <emphasis role="bold">cb</emphasis> is not <emphasis role="bold">NULL</emphasis>, it will be called as described in
      <citerefentry> <refentrytitle>BN_generate_prime</refentrytitle>
      <manvolnum>3</manvolnum> </citerefentry> while a random prime number
      is generated, and when a prime has been found, <emphasis role="bold">BN_GENCB_call(cb, 3, 0)</emphasis> is called. See
      <citerefentry> <refentrytitle>BN_generate_prime</refentrytitle>
      <manvolnum>3</manvolnum> </citerefentry> for information on the
      BN_GENCB_call() function.
    </para>
    <para>
      DH_check() validates Diffie-Hellman parameters. It checks that
      <emphasis role="bold">p</emphasis> is a safe prime, and that
      <emphasis role="bold">g</emphasis> is a suitable generator. In the
      case of an error, the bit flags DH_CHECK_P_NOT_SAFE_PRIME or
      DH_NOT_SUITABLE_GENERATOR are set in <emphasis role="bold">*codes</emphasis>. DH_UNABLE_TO_CHECK_GENERATOR is set if
      the generator cannot be checked, i.e. it does not equal 2 or 5.
    </para>
  </refsection>
  <refsection xml:id="sources.openssl.doc.crypto.DH_generate_parameters.pod:RETURN_VALUES"><title>RETURN VALUES</title>
    <para>
      DH_generate_parameters_ex() and DH_check() return 1 if the check
      could be performed, 0 otherwise.
    </para>
    <para>
      DH_generate_parameters() (deprecated) returns a pointer to the DH
      structure, or NULL if the parameter generation fails.
    </para>
    <para>
      The error codes can be obtained by <citerefentry>
      <refentrytitle>ERR_get_error</refentrytitle> <manvolnum>3</manvolnum>
      </citerefentry>.
    </para>
  </refsection>
  <refsection xml:id="sources.openssl.doc.crypto.DH_generate_parameters.pod:NOTES"><title>NOTES</title>
    <para>
      DH_generate_parameters_ex() and DH_generate_parameters() may run for
      several hours before finding a suitable prime.
    </para>
    <para>
      The parameters generated by DH_generate_parameters_ex() and
      DH_generate_parameters() are not to be used in signature schemes.
    </para>
  </refsection>
  <refsection xml:id="sources.openssl.doc.crypto.DH_generate_parameters.pod:BUGS"><title>BUGS</title>
    <para>
      If <emphasis role="bold">generator</emphasis> is not 2 or 5,
      <emphasis role="bold">dh-&gt;g</emphasis>=<emphasis role="bold">generator</emphasis> is not a usable generator.
    </para>
  </refsection>
  <refsection xml:id="sources.openssl.doc.crypto.DH_generate_parameters.pod:SEE_ALSO"><title>SEE ALSO</title>
    <para>
      <citerefentry> <refentrytitle>dh</refentrytitle>
      <manvolnum>3</manvolnum> </citerefentry>, <citerefentry>
      <refentrytitle>ERR_get_error</refentrytitle> <manvolnum>3</manvolnum>
      </citerefentry>, <citerefentry> <refentrytitle>rand</refentrytitle>
      <manvolnum>3</manvolnum> </citerefentry>, <citerefentry>
      <refentrytitle>DH_free</refentrytitle> <manvolnum>3</manvolnum>
      </citerefentry>
    </para>
  </refsection>
  <refsection xml:id="sources.openssl.doc.crypto.DH_generate_parameters.pod:HISTORY"><title>HISTORY</title>
    <para>
      DH_check() is available in all versions of SSLeay and OpenSSL. The
      <emphasis role="bold">cb_arg</emphasis> argument to
      DH_generate_parameters() was added in SSLeay 0.9.0.
    </para>
    <para>
      In versions before OpenSSL 0.9.5, DH_CHECK_P_NOT_STRONG_PRIME is used
      instead of DH_CHECK_P_NOT_SAFE_PRIME.
    </para>
  </refsection>
</refentry>