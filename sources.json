/* In alphabetical order
Use rsync --checksum to preserve the timestamps of files in xml/ and man/ if their contents doesn't change when extracting.

*/

{

  "acl": {
    "type": "git",
    "url": "git://git.savannah.nongnu.org/acl.git",
    "sparse": "man/",
    "cmd": "rsync -a --checksum --exclude=Makefile --exclude=Makemodule.am sources/acl/man/ man"
  },

  "acct": {
    "type": "svn",
    "url": "svn://svn.savannah.gnu.org/acct/trunk",
    "cmd": "rsync --checksum sources/acct/*.1 man/man1/;
rsync --checksum sources/acct/*.8 man/man8/"
  },

  "attr": {
    "type": "git",
    "url": "git://git.savannah.nongnu.org/attr.git",
    "sparse": "man/",
    "cmd": "rsync -a --checksum --exclude=Makefile --exclude=Makemodule.am sources/attr/man/ man"
  },

  "bash": {
    "type": "git",
    "url": "git://git.savannah.gnu.org/bash.git",
    "tag": "bash-4.3",
    "cmd": "(cd sources/bash/; ./configure -q; cd doc; make text);
rsync --checksum sources/bash/doc/*.1 man/man1/"
  },

  /* Build fails with "require Automake 1.14, but have 1.13.4", can't convert .texi as it is in repo.
  "bison": {
    "type": "git",
    "url": "git://git.savannah.gnu.org/bison.git"
  },
  */

  "btrfs-progs": {
    "type": "git",
    "url": "git://git.kernel.org/pub/scm/linux/kernel/git/mason/btrfs-progs.git",
    "sparse": "man/*.in",
    "cmd": "for f in $(find sources/btrfs-progs/man/ -name '*.in'); do cp $f man/man8/$(basename -s .in $f); done"
  },

  "coreutils": {
    "type": "git",
    "url": "git://git.sv.gnu.org/coreutils",
    "tag": "v8.22",
    "cmd": "(cd sources/coreutils/; ./bootstrap; ./configure --quiet; make);
rsync --checksum sources/coreutils/man/*.1 man/man1/"
  },

  "cronie": {
    "type": "git",
    "url": "http://git.fedorahosted.org/git/cronie.git",
    "sparse": "man/",
    "cmd": "rsync --checksum sources/cronie/man/*.1 man/man1/;
rsync --checksum sources/cronie/man/*.5 man/man5/;
rsync --checksum sources/cronie/man/*.8 man/man8/"
  },

  "dpkg": {
    "type": "git",
    "url": "git://git.debian.org/git/dpkg/dpkg.git",
    "sparse": "man/",
    "cmd": "rsync --checksum sources/dpkg/man/*.1 man/man1/;
rsync --checksum sources/dpkg/man/*.5 man/man5/;
rsync --checksum sources/dpkg/man/*.8 man/man8/"
  },

  "dracut": {
    "type": "git",
    "url": "git://git.kernel.org/pub/scm/boot/dracut/dracut.git",
    "sparse": "*.asc",
    "cmd": "(cd sources/dracut/; find . -name '*.[1-9].asc' -exec bash -c 'base=$(basename -s .asc {}); manNum=\"${base##*.}\"; asciidoc -d manpage -b docbook -o ../../xml/man$manNum/$base.xml {}' \\;)"
  },

  "dstat": {
    "type": "git",
    "url": "https://github.com/dagwieers/dstat.git",
    "sparse": "docs/",
    "cmd": "asciidoc -d manpage -b docbook -o- sources/dstat/docs/dstat.1.txt | xsltproc utils/db4-upgrade.xsl - > xml/man1/dstat.1.xml"
  },

  "e2fsprogs": {
    "type": "git",
    "url": "git://git.kernel.org/pub/scm/fs/ext2/e2fsprogs.git",
    "cmd": "(cd sources/e2fsprogs/; mkdir -p build/install; cd build; ../configure; make; make install DESTDIR=$(pwd)/install);
rsync -a --checksum sources/e2fsprogs/build/install/usr/share/man/ man"
  },

  "findutils": {
    "type": "git",
    "url": "git://git.savannah.gnu.org/findutils.git",
    "sparse": "*.[1-8]",
    "cmd": "find sources/findutils/ -name '*.1' -exec cp {} man/man1/ \\;;
find sources/findutils/ -name '*.5' -exec rsync --checksum {} man/man5/ \\;"
  },

  "gawk": {
    "type": "git",
    "url": "git://git.savannah.gnu.org/gawk.git",
    "sparse": "doc/",
    "cmd": "rsync --checksum sources/gawk/doc/*.1 man/man1/"
  },

  "git": {
    "type": "git",
    "url": "https://github.com/git/git.git",
    "sparse": "Documentation/",
    "cmd": "(cd sources/git/Documentation/; find . \\( -name 'git-*.txt' -o -name git.txt -o -name gitk.txt -o -name gitremote-helpers.txt -o -name gitweb.txt \\) -exec bash -c 'asciidoc -d manpage -b docbook -f asciidoc.conf -o ../../../xml/man1/$(basename -s .txt {}).1.xml {}' \\;);
(cd sources/git/Documentation/; find . \\( -name gitattributes.txt -o -name githooks.txt -o -name gitignore.txt -o -name gitmodules.txt -o -name gitrepository-layout.txt -o -name gitweb.conf.txt \\) -exec bash -c 'asciidoc -d manpage -b docbook -f asciidoc.conf -o ../../../xml/man5/$(basename -s .txt {}).5.xml {}' \\;);
(cd sources/git/Documentation/; find . \\( -name gitcli.txt -o -name gitcredentials.txt -o -name gitcvs-migration.txt -o -name gitdiffcore.txt -o -name gitglossary.txt -o -name gitnamespaces.txt -o -name gitrevisions.txt -o -name gitworkflows.txt \\) -exec bash -c 'asciidoc -d manpage -b docbook -f asciidoc.conf -o ../../../xml/man7/$(basename -s .txt {}).7.xml {}' \\;)"
  },

  "grep": {
    "type": "git",
    "url": "http://git.savannah.gnu.org/r/grep.git",
    "sparse": "doc/",
    "cmd": "rsync --checksum sources/grep/doc/grep.in.1 man/man1/grep.1"
  },

  "hg": {
    "type": "hg",
    "url": "http://selenic.com/hg",
    "cmd": "(cd sources/hg/; make doc);
rsync --checksum sources/hg/doc/*.1 man/man1/;
rsync --checksum sources/hg/doc/*.5 man/man5/"
  },

  "htop": {
    "type": "git",
    "url": "https://github.com/hishamhm/htop ",
    "sparse": "htop.1.in",
    "cmd": "rsync --checksum sources/htop/htop.1.in man/man1/htop.1"
  },

  "iotop": {
    "type": "git",
    "url": "http://repo.or.cz/r/iotop.git",
    "sparse": "iotop.8",
    "cmd": "rsync --checksum sources/iotop/iotop.8 man/man8/iotop.8"
  },

  "iproute2": {
    "type": "git",
    "url": "git://git.kernel.org/pub/scm/linux/kernel/git/shemminger/iproute2.git",
    "sparse": "man/",
    "cmd": "(cd sources/iproute2/man/man8/; make);
rsync --checksum -a --exclude=Makefile --exclude='*.in' --exclude=.gitignore sources/iproute2/man/ man"
  },

  "iputils": {
    "type": "git",
    "url": "git://git.code.sf.net/p/iputils/code",
    "sparse": "doc/",
    "cmd": "find sources/iputils/doc -name '*.sgml' ! -name pg3.sgml -exec bash -c 'osx -xlower {} 2> /dev/null | xsltproc utils/db4-upgrade.xsl - > xml/man8/$(basename -s .sgml {}).8.xml {}' \\;"
  },

  "kernel_man_pages": {
    "type": "git",
    "url": "http://git.kernel.org/pub/scm/docs/man-pages/man-pages",
    "cmd": "rsync --checksum -a sources/kernel_man_pages/man[1-8] man/"
  },

  "keyutils": {
    "type": "git",
    "url": "http://git.kernel.org/pub/scm/linux/kernel/git/dhowells/keyutils.git",
    "sparse": "*.[1-8]",
    "cmd": "rsync --checksum sources/keyutils/man/*.1 man/man1/;
rsync --checksum sources/keyutils/man/*.3 man/man3/;
rsync --checksum sources/keyutils/man/*.5 man/man5/;
rsync --checksum sources/keyutils/man/*.8 man/man8/"
  },

  "kmod": {
    "type": "git",
    "url": "git://git.kernel.org/pub/scm/utils/kernel/kmod/kmod.git",
    "sparse": "man/",
    "cmd": "rsync --checksum sources/kmod/man/depmod.d.xml xml/man5/depmod.d.5.xml;
rsync --checksum sources/kmod/man/modprobe.d.xml xml/man5/modprobe.d.5.xml;
rsync --checksum sources/kmod/man/modules.dep.xml xml/man5/modules.dep.5.xml;
rsync --checksum sources/kmod/man/depmod.xml xml/man8/depmod.8.xml;
rsync --checksum sources/kmod/man/insmod.xml xml/man8/insmod.8.xml;
rsync --checksum sources/kmod/man/lsmod.xml xml/man8/lsmod.8.xml;
rsync --checksum sources/kmod/man/rmmod.xml xml/man8/rmmod.8.xml;
rsync --checksum sources/kmod/man/modprobe.xml xml/man8/modprobe.8.xml;
rsync --checksum sources/kmod/man/modinfo.xml xml/man8/modinfo.8.xml;
echo '.so man5/modules.dep.5' > man/man5/modules.dep.bin.5"
  },

  "lapack": {
    "type": "tarball",
    "url": "http://www.netlib.org/lapack/manpages.tgz",
    "cmd": "rsync --checksum sources/lapack/man/man3/* man/man3/"
  },

  "libcap": {
    "type": "git",
    "url": "git://git.kernel.org/pub/scm/linux/kernel/git/morgan/libcap.git",
    "sparse": "doc/",
    "cmd": "rsync --checksum sources/libcap/doc/*.1 man/man1/;
rsync --checksum sources/libcap/doc/*.3 man/man3/;
rsync --checksum sources/libcap/doc/*.8 man/man8/"
  },

  "linux-pam": {
    "type": "git",
    "url": "https://git.fedorahosted.org/git/linux-pam.git",
    "cmd": "(cd sources/linux-pam/; ./autogen.sh; ./configure);
for f in sources/linux-pam/doc/man/*.3.xml; do xsltproc -o xml/man3/$(basename $f) --xinclude utils/db4-upgrade.xsl $f; done;
for f in sources/linux-pam/doc/man/*.8.xml; do xsltproc -o xml/man8/$(basename $f) --xinclude utils/db4-upgrade.xsl $f; done;"
  },

  "ltrace": {
    "type": "git",
    "url": "git://anonscm.debian.org/collab-maint/ltrace.git",
    "sparse": "*.[1-8]",
    "cmd": "rsync --checksum sources/ltrace/ltrace.1 man/man1/;
rsync --checksum sources/ltrace/ltrace.conf.5 man/man5/"
  },

  "lvm2": {
    "type": "git",
    "url": "git://git.fedorahosted.org/git/lvm2.git",
    /*"sparse": "man/\nVERSION\nVERSION_DM", <- need to run ./configure so get everything for now*/
    "cmd": "(cd sources/lvm2; ./configure; cd man; make man);
rsync --checksum sources/lvm2/man/*.5 man/man5/;
rsync --checksum sources/lvm2/man/*.7 man/man7/;
rsync --checksum sources/lvm2/man/*.8 man/man8/"
  },

  "make": {
    "type": "git",
    "url": "git://git.savannah.gnu.org/make.git",
    "sparse": "make.1",
    "cmd": "rsync --checksum sources/make/make.1 man/man1/"
  },

  "man-db": {
    "type": "bzr",
    "url": "http://bzr.savannah.gnu.org/r/man-db/trunk",
    "cmd": "(cd sources/man-db/; ./autogen.sh; ./configure; cd man; make);
rsync --checksum sources/man-db/man/man1/*.1 man/man1/;
rsync --checksum sources/man-db/man/man5/*.5 man/man5/;
rsync --checksum sources/man-db/man/man8/*.8 man/man8/"
  },

  "mmv": {
    "type": "git",
    "url": "git://git.deb.at/pkg/mmv.git",
    "cmd": "rsync --checksum sources/mmv/mmv.1 man/man1/"
  },

  "mono": {
    "type": "git",
    "url": "https://github.com/mono/mono.git",
    "sparse": "man/*.[1-8]",
    "cmd": "rsync --checksum sources/mono/man/*.1 man/man1/;
rsync --checksum sources/mono/man/*.5 man/man5/;"
  },

  "multipath-tools": {
    "type": "git",
    "url": "http://git.opensvc.com/multipath-tools/.git",
    "cmd": "find sources/multipath-tools/ -name \\*.3 -exec rsync --checksum {} man/man3/ \\;;
find sources/multipath-tools/ -name '*.5' -exec rsync --checksum {} man/man5/ \\;;
find sources/multipath-tools/ -name '*.8' -exec rsync --checksum {} man/man8/ \\;"
  },

  "net-tools": {
    "type": "git",
    "url": "git://net-tools.git.sourceforge.net/gitroot/net-tools/net-tools",
    "sparse": "man/en_US",
    "cmd": "rsync --checksum sources/net-tools/man/en_US/*.1 man/man1/;
rsync --checksum sources/net-tools/man/en_US/*.5 man/man5/;
rsync --checksum sources/net-tools/man/en_US/*.8 man/man8/"
  },

  "ndiff": {
    "type": "svn",
    "url": "https://svn.nmap.org/nmap/ndiff/docs",
    "cmd": "sed '1i<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE refentry PUBLIC \"-//OASIS//DTD DocBook XML V4.1.2//EN\" \"http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd\">' sources/ndiff/ndiff.xml | xmlstarlet ed -d '//notman' | xsltproc -o xml/man1/ndiff.1.xml utils/db4-upgrade.xsl -"
  },

  "ncat": {
    "type": "svn",
    "url": "https://svn.nmap.org/nmap/ncat/docs",
    "cmd": "(cd sources/ncat; sed '1i<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE refentry PUBLIC \"-//OASIS//DTD DocBook XML V4.1.2//EN\" \"http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd\">' ncat.xml | xmlstarlet ed -d '//notman' | sed 's~<man>~~g' | sed 's~</man>~~g' | xsltproc -o ../../xml/man1/ncat.1.xml --xinclude ../../utils/db4-upgrade.xsl -)"
  },

  "nmap": {
    "type": "svn",
    "url": "https://svn.nmap.org/nmap/docs",
    /* refguide.xml would need some special attention to use it as a basis for nmap.1.xml */
    "cmd": "rsync --checksum sources/nmap/nmap.1 man/man1/; (cd sources/nmap; xsltproc -o ../../xml/man1/nmap-update.1.xml --xinclude ../../utils/db4-upgrade.xsl nmap-update.xml; sed '1i<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE refentry PUBLIC \"-//OASIS//DTD DocBook XML V4.1.2//EN\" \"http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd\">' zenmap.xml | xmlstarlet ed -d '//web' | xsltproc -o ../../xml/man1/zenmap.1.xml --xinclude ../../utils/db4-upgrade.xsl -)"
  },

  "nping": {
    "type": "svn",
    "url": "https://svn.nmap.org/nmap/nping/docs",
    "cmd": "(cd sources/nping; xsltproc --xinclude ../../utils/db4-upgrade.xsl npingmanhtml.xml | xmlstarlet ed -d '//_:web' | xmlstarlet ed -d '//_:continuation' > ../../xml/man1/nping.1.xml)"
  },

  "openssl": {
    "type": "git",
    "url": "git://git.openssl.org/openssl.git",
    "sparse": "doc/",
    "cmd": "find sources/openssl/ -name \\*.pod -exec bash -c 'pod2docbook --doctype=refentry {} | sed \"s~<openssl/~\\&lt;openssl/~g\" | sed \"s~.h>~.h\\&gt;~g\" | sed \"s~<type>~\\&lt;type\\&gt;~g\" | sed \"s~<type2>~\\&lt;type2\\&gt;~g\" | sed \"s~<type</emphasis>\\&gt;~\\&lt;type\\&gt;</emphasis>~g\" | xsltproc utils/db4-upgrade.xsl - > xml/man3/$(basename -s .pod {}).3.xml' \\;;
mv xml/man3/config.3.xml xml/man5/config.5.xml;
mv xml/man3/x509v3_config.3.xml xml/man5/x509v3_config.5.xml;
mv xml/man3/des_modes.3.xml xml/man7/des_modes.7.xml"
  },

  "Owl": {
    "type": "cvs",
    "url": "-d:pserver:anoncvs:anoncvs@anoncvs.owl.openwall.com:/cvs",
    "cmd": "rsync --checksum sources/Owl/packages/passwdqc/passwdqc/*.1 man/man1/;
rsync --checksum sources/Owl/packages/passwdqc/passwdqc/*.5 man/man5/;
rsync --checksum sources/Owl/packages/passwdqc/passwdqc/*.8 man/man8/"
  },

  "patch": {
    "type": "git",
    "url": "git://git.savannah.gnu.org/patch.git",
    "sparse": "patch.man",
    "cmd": "rsync --checksum sources/patch/patch.man man/man1/patch.1"
  },

  "pgbadger": {
    "type": "git",
    "url": "https://github.com/dalibo/pgbadger.git",
    "sparse": "doc/",
    "cmd": "pod2docbook --doctype=refentry sources/pgbadger/doc/pgBadger.pod | xsltproc utils/db4-upgrade.xsl - > xml/man1/pgbadger.1.xml"
  },

  "polkit": {
    "type": "git",
    "url": "git://anongit.freedesktop.org/polkit",
    "sparse": "docs/man/",
    "cmd": "find sources/polkit -name '*.xml' -exec bash -c 'xmlstarlet ed -d \"//imageobject\" {} | sed \"s~<!ENTITY version SYSTEM \"../version.xml\">~~\" | sed \"s~<refmiscinfo class=\"version\"></refmiscinfo>~~\" | xsltproc utils/db4-upgrade.xsl - > xml/man1/$(basename -s .xml {}).1.xml' \\;;
mv xml/man1/polkit.1.xml xml/man8/polkit.8.xml;
mv xml/man1/polkitd.1.xml xml/man8/polkitd.8.xml"
  },

  "procps": {
    "type": "cvs",
    "url": "-d:pserver:anonymous@procps.cvs.sourceforge.net:/cvsroot/procps",
    "cmd": "find sources/procps/ -name '*.1' ! -name kill.1 ! -name uptime.1 -exec rsync --checksum {} man/man1/ \\;;
find sources/procps/ -name '*.5' -exec rsync --checksum {} man/man5/ \\;;
find sources/procps/ -name '*.8' -exec rsync --checksum {} man/man8/ \\;"
  },

  "quota": {
    "type": "git",
    "url": "git://git.code.sf.net/p/linuxquota/code",
    "sparse": "*.[1-8]",
    "cmd": "rsync --checksum sources/quota/*.1 man/man1/;
rsync --checksum sources/quota/*.5 man/man5/;
rsync --checksum sources/quota/*.8 man/man8/"
  },

  "readline": {
    "type": "git",
    "url": "git://git.savannah.gnu.org/readline.git",
    "sparse": "doc/",
    "cmd": "rsync --checksum sources/readline/doc/*.3 man/man3/"
  },

  "screen": {
    "type": "git",
    "url": "git://git.savannah.gnu.org/screen.git",
    "sparse": "src/doc/",
    "cmd": "rsync --checksum sources/screen/src/doc/screen.1 man/man1/"
  },

  "sed": {
    "type": "git",
    "url": "git://git.savannah.gnu.org/sed.git",
    "sparse": "doc/*.[1-8]",
    "cmd": "rsync --checksum sources/sed/doc/*.1 man/man1/"
  },

  "selinux": {
    "type": "git",
    "url": "http://oss.tresys.com/git/selinux.git",
    "sparse": "libsemanage/man/*\nlibselinux/man/*\nlibsepol/man/*\npolicycoreutils/mcstrans/man/*\npolicycoreutils/man/*",
    "cmd": "find sources/selinux/ -name '*[a-z].3' -exec rsync --checksum {} man/man3/ \\;;
find sources/selinux/ -name '*.5' -exec rsync --checksum {} man/man5/ \\;;
find sources/selinux/ -name '*.8' -exec rsync --checksum {} man/man8/ \\;"
  },

  "selinux-refpolicy": {
    "type": "git",
    "url": "http://oss.tresys.com/git/refpolicy.git",
    "cmd": "rsync --checksum sources/selinux-refpolicy/man/man8/*.8 man/man8/" /* (cd sources/selinux-refpolicy; git submodule init; git submodule update) */
  },

  "sendmail": {
    "type": "tarball",
    "url": "ftp://ftp.sendmail.org/pub/sendmail/sendmail.8.14.8.tar.gz",
    "cmd": "find sources/sendmail/ -name '*[a-z].1' -exec rsync --checksum {} man/man1/ \\;;
find sources/sendmail/ -name '*[a-z].5' -exec rsync --checksum {} man/man5/ \\;;
find sources/sendmail/ -name '*[a-z].8' -exec rsync --checksum {} man/man8/ \\;"
  },

  /* Use groups.1, id.1 from coreutils instead of from shadow-utils. */
  /* Use chsh.1, login.1, newgrp.1, su.1 from util-linux instead of from shadow-utils. */
  "shadow-utils": {
    "type": "svn",
    "url": "svn://svn.debian.org/pkg-shadow/upstream/trunk",
    "cmd": "(cd sources/shadow-utils; ./autogen.sh; ./configure --enable-man);
(cd sources/shadow-utils/man && find -name '*.[1-8].xml' ! -name groups.1.xml ! -name id.1.xml ! -name chsh.1.xml ! -name login.1.xml ! -name newgrp.1.xml ! -name su.1.xml -print0 | while read -d $'\\0' -r file ; do sed -e '/^<!-- SHADOW-CONFIG-HERE -->/r config.xml' -e '//d' $file > $(basename $file).__; done;);
(cd sources/shadow-utils/man && for f in *.__; do base=$(basename -s .__ $f); manNum=$(echo $base | rev | cut -c 5); xsltproc ../../../utils/db4-upgrade.xsl $f > ../../../xml/man$manNum/$base; done;)"
  },

  /* Uses a .yo yodl file, we can't handle that yet.
  "socat": {
    "type": "git",
    "url": "git://repo.or.cz/socat.git"
  },*/

  "sox": {
    "type": "git",
    "url": "git://git.code.sf.net/p/sox/code",
    "sparse": "*.[1-8]",
    "cmd": "find sources/sox/ -name '*.1' -exec rsync --checksum {} man/man1/ \\;;
find sources/sox/ -name '*.3' -exec rsync --checksum {} man/man3/ \\;;
find sources/sox/ -name '*.7' -exec rsync --checksum {} man/man7/ \\;"
  },

  "strace": {
    "type": "git",
    "url": "git://strace.git.sourceforge.net/gitroot/strace/strace",
    "sparse": "*.[1-8]",
    "cmd": "rsync --checksum sources/strace/*.1 man/man1/"
  },

  "sudo": {
    "type": "hg",
    "url": "http://www.sudo.ws/repos/sudo",
    "cmd": "(cd sources/sudo/; ./configure; make; mkdir -p /tmp/sudo-inst; make DESTDIR=/tmp/sudo-inst install-doc);
rsync --checksum -a /tmp/sudo-inst/usr/local/man/man[1-8] man/"
  },

  "systemd": {
    "type": "git",
    "url": "git://anongit.freedesktop.org/systemd/systemd",
    "cmd": "(cd sources/systemd/; libtoolize; aclocal; autoheader; ./autogen.sh; ./configure -q CFLAGS='-g -O0' --sysconfdir=/etc --localstatedir=/var --libdir=/usr/lib64 --enable-gtk-doc; make man/custom-entities.ent);
find sources/systemd/man -name '*.xml' -print0 | while read -d $'\\0' -r file ; do manNum=$(xmllint --shell $file  <<< \"cat //refmeta/manvolnum/text()\"  | grep -v \"^/ >\"); [ -z \"$manNum\" ] || xsltproc -o \"xml/man$manNum/$(basename -s .xml $file).$manNum.xml\" --xinclude utils/db4-upgrade.xsl $file; done"
  },

  "tcpdump": {
    "type": "git",
    "url": "git://bpf.tcpdump.org/tcpdump",
    "sparse": "tcpdump.1.in",
    "cmd": "rsync --checksum sources/tcpdump/tcpdump.1.in man/man1/tcpdump.1"
  },

  "tmux": {
    "type": "git",
    "url": "git://git.code.sf.net/p/tmux/tmux-code",
    "sparse": "tmux.1",
    "cmd": "rsync --checksum sources/tmux/tmux.1 man/man1/"
  },

  "util-linux": {
    "type": "git",
    "url": "git://git.kernel.org/pub/scm/utils/util-linux/util-linux.git",
    "sparse": "*.[1-8]",
    "cmd": "find sources/util-linux/*utils/ -name '*.1' ! -name kill.1 -exec rsync --checksum {} man/man1/ \\;;
find sources/util-linux/ -name '*.3' -exec rsync --checksum {} man/man3/ \\;;
find sources/util-linux/ -name '*.5' -exec rsync --checksum {} man/man5/ \\;;
find sources/util-linux/ -name '*.8' -exec rsync --checksum {} man/man8/ \\;"
  },

  "varnish": {
    "type": "git",
    "url": "git://git.varnish-cache.org/varnish-cache",
    "tag": "varnish-4.0.1",
    /* note pandoc doesn't process include statements in rst, may have to do that manually. */
    "cmd": "(cd sources/varnish; ./autogen.sh; ./configure; make);
find sources/varnish/doc/sphinx/reference/ -name '*.rst' ! -name shmem.rst ! -name vsl.rst ! -name index.rst ! -name params.rst ! -name vmod.rst -exec bash -c 'pandoc -f rst -t docbook {} | xsltproc utils/db4-upgrade.xsl - > xml/man1/$(basename -s .rst {}).1.xml' \\;;
mv xml/man1/varnish-cli.1.xml xml/man7/varnish-cli.7.xml;
mv xml/man1/vmod_std.1.xml xml/man3/vmod_std.3.xml;
mv xml/man1/vcl.1.xml xml/man7/vcl.7.xml;"
  },

  "xfsprogs-dev": {
    "type": "git",
    "url": "http://git.kernel.org/pub/scm/fs/xfs/xfsprogs-dev.git",
    "sparse": "man/",
    "cmd": "rsync --checksum -a --exclude=Makefile sources/xfsprogs-dev/man/ man"
  },

  "yum": {
    "type": "git",
    "url": "git://yum.baseurl.org/yum.git",
    "sparse": "docs/*.[1-8]",
    "cmd": "rsync --checksum sources/yum/docs/*.5 man/man5/;
rsync --checksum sources/yum/docs/*.8 man/man8/"
  },

  "yum-utils": {
    "type": "git",
    "url": "git://yum.baseurl.org/yum-utils.git",
    "sparse": "docs/*.[1-8]",
    "cmd": "rsync --checksum sources/yum-utils/docs/*.1 man/man1/;
rsync --checksum sources/yum-utils/docs/*.5 man/man5/;
rsync --checksum sources/yum-utils/docs/*.8 man/man8/"
  }

}
